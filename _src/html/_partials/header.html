{% set menu = headerMenu %}
{% set homePermalink = headerHomePermalink ? headerHomePermalink : '/' %}
{% set classCompactMenu = headerMenuCompact ? 'headerNav__menu--compact' : '' %}
{% set logo = headerLogo ?: 'logo.png' %}

<header class="layout-header {% if menuOnly or noHeader %}py-0{% endif %} {% if noHeader %}hide{% endif %} {% if noLogo %}py-2{% endif %}" data-header>
  <div class="container-xl">
    {% if menuInlineText %}
      <div class="row justify-between items-center xs:hide sm:hide md:hide">
        <div class="col-variable">
          <a href="/" class="{% if noLogo %}hide{% endif %} inline"><img src="{{ options.pathImages }}/{{logo}}" alt="A logo of VMLY&amp;R." class="logo {% if menuOnly %}hide{% endif %}"></a>
        </div>
        <div class="col-variable">
          <ul>
            {% for item in menu %}
              <li class="inline headerNav__menuMr">
                <a href="{{ item.permalink }}" class="underline-none type-xs uppercase headerNav__menuInlineText" data-menu-scroll>{{ item.title }}</a>
              </li>
            {% endfor %}
          </ul>
        </div>
      </div>
    {% endif %}

    <a href="/" class="{% if noLogo %}hide{% endif %} {% if menuInlineText %}lg:hide xl:hide{% endif %}"><img src="{{ options.pathImages }}/{{logo}}" alt="A logo of VMLY&amp;R." class="logo {% if menuOnly %}hide{% endif %}"></a>
    <button type="button" class="hamburger hamburger--open {% if noMenu %}hide{% endif %} {% if menuInlineText %}lg:hide xl:hide{% endif %}" {% if menuOnly %}style="transform: none;"{% endif %} aria-label="Open menu" data-hamburger-open></button>
  </div>
</header>

<nav class="headerNav" data-nav>
  <button type="button" class="hamburger hamburger--close" aria-label="Close menu" data-hamburger-close></button>
  <div class="headerNav__track">
    <ul class="headerNav__menu {{ classCompactMenu }}">
      {% for item in menu %}
        {% if item.group %}
          <li>
            <span class="headerNav__title">{{ item.group }}</span>
            {% if item.sub %}
              <ul>
                {% for sub in item.sub %}
                  {% set classIsActive = (pageActiveTest == sub.activeTest) ? 'is-active' : '' %}
                  {% set classIsVideo = sub.isVideo ?  'js-modal-video js-close-menu' : '' %}
                  <li>
                    <a href="{{ sub.permalink }}" class="{{ [classIsActive, classIsVideo]|join(' ') }}" {% if sub.permalinkIsScroll %}data-menu-scroll{% endif %}>{{ sub.title }}</a>
                  </li>
                {% endfor %}
              </ul>
            {% endif %}
          </li>
        {% else %}
          {% set classIsActive = (pageActiveTest == item.activeTest) ? 'is-active' : '' %}
          {% set classIsVideo = item.isVideo ?  'js-modal-video js-close-menu' : '' %}
          <li>
            <a href="{{ item.permalink }}" class="{{ [classIsActive, classIsVideo]|join(' ') }}" {% if item.permalinkIsScroll %}data-menu-scroll{% endif %}>{{ item.title }}</a>
          </li>
        {% endif %}
      {% endfor %}

      {# <li>
        <span class="headerNav__title">Layout</span>
        <ul>
          <li><a href="/docs/container.html">Container</a></li>
          <li><a href="/docs/display.html">Display</a></li>
          <li><a href="/docs/grid.html">Grid</a></li>
          <li><a href="/docs/hide-show.html">Hide &amp; Show</a></li>
          <li><a href="/docs/overflow.html">Overflow</a></li>
          <li><a href="/docs/position.html">Position</a></li>
          <li><a href="/docs/spacing.html">Padding/Margin</a></li>
          <li><a href="/docs/gutter.html">Gutter</a></li>
        </ul>
      </li>
      <li>
        <span class="headerNav__title">Typography</span>
        <ul>
          <li><a href="/docs/font-weight.html">Font Weight</a></li>
          <li><a href="/docs/letter-spacing.html">Letter Spacing</a></li>
          <li><a href="/docs/line-height.html">Line Height</a></li>
          <li><a href="/docs/type-sets.html">Type Sets</a></li>
          <li><a href="/docs/text-style.html">Style &amp; Decoration</a></li>
          <li><a href="/docs/text-alignment.html">Text Alignment</a></li>
          <li><a href="/docs/vertical-alignment.html">Vertical Alignment</a></li>
          <li><a href="/docs/text-wrapping.html">Whitespace &amp; Wrapping</a></li>
        </ul>
      </li>
      <li>
        <span class="headerNav__title">Components</span>
        <ul>
          <li><a href="/docs/iconography.html">Iconography</a></li>
          <li><a href="/docs/buttons.html">Buttons</a></li>
          <li><a href="/docs/intro.html">Intro</a></li>
          <li><a href="/docs/figure.html">Figure</a></li>
          <li><a href="/docs/spotlight.html">Spotlight</a></li>
          <li><a href="/docs/masonry-grid.html">Masonry Grid</a></li>
          <li><a href="/docs/carousel.html">Carousel</a></li>
          <li><a href="/docs/video.html">Video</a></li>
          <li><a href="/docs/speed-bump.html">Speed Bump</a></li>
          <li><a href="/docs/team.html">Team</a></li>
          <li><a href="/docs/wysiwyg.html">Wysiwyg</a></li>
        </ul>
      </li>
      <li>
        <span class="headerNav__title">Other</span>
        <ul>
          <li><a href="/docs/color.html">Color</a></li>
          <li><a href="/docs/backgrounds.html">Backgrounds</a></li>
          <li>Sizing</li>
        </ul>
      </li> #}
    </ul>
  </div>
</nav>
